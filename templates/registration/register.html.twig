{% extends 'base.html.twig' %}

{% block title %}Créer votre compte{% endblock %}

{% block body %}
<div class="signup">
    <h2 class="text-warnnig">Créer un compte</h2>
    {{ form_errors(registrationForm) }}
    {{ form_start(registrationForm) }}
        {{ form_row(registrationForm.lastName) }}
        {{ form_row(registrationForm.firstName) }}
        {{ form_row(registrationForm.email) }}
        {{ form_row(registrationForm.plainPassword, {
            label: 'Mot de passe'
        }) }}
        
        <div class="form-group">
            {{ form_label(registrationForm.roles) }}
            {{ form_widget(registrationForm.roles, {'attr': {'class': 'form-control select2bs4'}}) }}
            <div class="text-danger">{{ form_errors(registrationForm.roles) }}</div>
        </div>

        <button type="submit" class="btn">Valider</button>
    {{ form_end(registrationForm) }}
    <div id="msg">Félicitations ! Vous êtes inscrit avec succès !</div>
    <p>Vous avez déjà un compte ? <a href="{{ path('app_login') }}">Se connecter</a></p>
</div>
<script>
    // function showSuccessMessage() {
    //     var x = document.getElementById("msg");
    //     x.className = "show";
    //     setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
    // }
    // showSuccessMessage();
</script>
{% endblock %}

{% block stylesheets %}
<style>
    body {
        font-family: 'Play', sans-serif;
        background: url("/assets/logo2.jpg") no-repeat center center;
        background-size: cover;   
        color: #fff;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }
    .signup {
        /* background: rgba(51, 51, 51, 0.5); */
    background-color: rgb(92, 92, 92);
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        width: 100%;
        max-width: 300px;
    }
    .signup h2 {
        margin: 0 0 20px;
        text-align: center;
    }
    
    .form-group input[type="text"],
    .signup input[type="text"],
    .signup input[type="password"],
    .signup input[type="email"] {
        width: calc(100% - 20px);
        padding: 10px;
        margin-bottom: 15px;
        border: none;
        border-radius: 4px;
    }
    .signup button {
        width: 100%;
        padding: 10px;
        background-color: #28a745;
        border: none;
        border-radius: 4px;
        color: #fff;
        font-size: 16px;
        cursor: pointer;
    }
    .signup button:hover {
        background-color: #218838;
    }
    #msg {
        visibility: hidden;
        min-width: 450px;
        background-color: yellow;
        color: #000;
        text-align: center;
        border-radius: 2px;
        padding: 16px;
        position: fixed;
        z-index: 1;
        right: 30%;
        top: 30px;
        font-size: 17px; 
        margin-right: 30px;
    }
    #msg.show {
        visibility: visible;
        -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
        animation: fadein 0.5s, fadeout 0.5s 2.5s;
    }
    @-webkit-keyframes fadein {
        from {top: 0; opacity: 0;}
        to {top: 30px; opacity: 1;}    
    }
    @keyframes fadein {
        from {top: 0; opacity: 0;}
        to {top: 30px; opacity: 1;}
    }
    @-webkit-keyframes fadeout {
        from {top: 30px; opacity: 1;}
        to {top: 0; opacity: 0;}    
    }
    @keyframes fadeout {
        from {top: 30px; opacity: 1;}
        to {top: 0; opacity: 0;}
    }
    a {
        text-decoration: none;
        color: yellow;
    }
    .text-warnnig{
                color: yellow;
    }
</style>
{% endblock %}
